<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="MapLesotho - Planning and OpenStreetMap project" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <title>Part 1: A guide on how to digitize using QGIS and OSM data</title>

    <meta name="description" content="Welcome to the first part in my short series on how to digitize using both QGIS and data from OSM. This guide is aimed at spatial planners based in Lesotho, ...">

    <link rel="canonical" href="/blog/2017/10/29/part1-guide-to-digitize-qgis-osm/">

    <link rel="author" type="text/plain" href="humans.txt" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="#MapLesotho" />
    <meta name="twitter:title" content="MapLesotho - Planning and OpenStreetMap project">
    <meta name="twitter:description" content="MapLesotho - Planning and OpenStreetMap project" />
    <meta name="twitter:image:src" content="http://www.maplesotho.com/assets/graphics/meta/default-meta-image.png" />
    <!--/ Twitter --> 

    <!-- OG -->
    <meta property="og:site_name" content="#MapLesotho - Planning and OpenStreetMap project" />
    <meta property="og:title" content="#MapLesotho - Planning and OpenStreetMap project" />
    <!-- <meta property="og:url" content="" /> -->
    <meta property="og:type" content="website" />
    <meta property="og:description" content="MapLesotho - Planning and OpenStreetMap project" />
    <meta property="og:image" content="http://www.maplesotho.com/assets/graphics/meta/default-meta-image.png" />
    <!--/ OG -->

    <link rel="shortcut icon" href="http://www.maplesotho.com/assets/graphics/meta/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="assets/graphics/meta/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/graphics/meta/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="http://www.maplesotho.com/assets/graphics/meta/apple-touch-icon-152x152.png" />

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700" />


    

    <link rel="stylesheet" href="/assets/styles/main-3d4d78346f.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <script type="text/javascript" src="https://widgets.wp.com/platform.js"></script>

    
    <script src="/assets/scripts/vendor-9a93b23e43.js"></script>
    
    <script src="/assets/scripts/bundle-048c897fa8.js"></script>

    <script type="text/javascript" src="/assets/scripts/jquery.min.js"></script>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  </head>
  <body>
   <!--[if lt IE 11]>
      <div id="nocando">
        <h1>No can do!</h1>
        <p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      </div>
    <![endif]-->


  <div class="p2y fill-lightgrey">
  
  	<div class="wrapper clearfix">
    <nav>
      <div class="col4">
  		<h1 class="page__title">
        <a href="/" title="Visit homepage">
          <span class="mast-logo mast-logo--h">
            <img src="/assets/graphics/layout/maplesotho-logo-pos.svg" alt="#MapLesotho logo" class="mast-logo__image" style="max-width: 180px;" />
            <!-- <strong class="mast-logo__text">MapLesotho</strong> -->
            <small class="mast-logo__label">Blog</small>
          </span>
        </a>
      </h1>   
      </div> 
      <div class="col8">
        <ul class="global-menu text-right">
          <li><a class="global-menu-item" href="/get-data/">Get the data</a></li>
          <li><a class="global-menu-item" href="/#dash">Dashboard</a></li>
          <li><a class="global-menu-item" href="https://stats.maplesotho.com/">Users</a></li>
          <li><a class="global-menu-item" href="/about/">About</a></li>
          <li><a class="global-menu-item" href="/blog/">Blog</a></li>
          <li><a class="global-menu-item" href="/videos/">Videos</a></li>
          <li><a class="global-menu-item" href="/weekly/">Weekly</a></li>
        </ul>
      </div>
      </nav>
  	</div>
  
  </div>

  <div class="wrapper clearfix">
	<div class="col8 m2 p4y">
		<h2>Part 1: A guide on how to digitize using QGIS and OSM data</h2>
		<p><small>29 October 2017</small> | <a href="http://www.openstreetmap.org/user/fifiqn"><strong>fifiqn</strong></a></p>	
		<div class="space-top2 p2y line-top prose prose-big">
			<p>Welcome to the first part in my short series on how to digitize using both QGIS and data from OSM. This guide is aimed at spatial planners based in Lesotho, don’t be afraid though no matter your background you’ll be able to follow along.</p>

<p><strong>In this first part we’re going to get everything we need installed and ready to go.</strong></p>

<h2 id="here-is-what-you-will-need">Here is what you will need</h2>

<ul>
  <li>PgAdmin3 Application</li>
  <li>Qgis Application</li>
  <li>osm2ogsql</li>
  <li>osm data file</li>
  <li>The style File</li>
</ul>

<h2 id="pgadmin3">PgAdmin3</h2>

<p><img src="https://user-images.githubusercontent.com/17254752/29927679-c609f17e-8e02-11e7-9f86-2586c5abc4e7.jpg" alt="PgAdmin logo" /></p>

<h3 id="how-to-install-postgresql">How to install PostgreSQL</h3>

<p>Here, you are going to learn how to install PostgreSQL in windows.</p>

<p>Here are 3 steps to complete the PostgreSQL installation:</p>

<ol>
  <li>Download PostgreSQL installer for Windows</li>
  <li>Install PostgreSQL</li>
  <li>Verify the installation</li>
</ol>

<p>Download the PostgreSQL Installer for Windows</p>

<p>You need to download the installer <a href="http://www.postgresql.org/download/windows/">here</a>.</p>

<p>Click on the download installer from EnterpriseDB Choose the latest version to download. It takes few minutes to complete the download.</p>

<h3 id="how-to-install-postgresql-step-by-step">How to Install PostgreSQL step by step</h3>

<p>Double click on the installer file, an installation wizard will appear and guide you through multiple steps where you can choose different options that you would like to have in PostgreSQL.</p>

<p>The following illustrates each step and its options for installation. If you have a different version, you may get additional steps.</p>

<h4 id="install-postgresql-step-1">Install PostgreSQL Step 1</h4>

<p><img src="https://user-images.githubusercontent.com/17254752/29718659-395a695a-894f-11e7-9549-7b47c3db61d9.png" alt="a picture of PgAdmin installation wizard" /></p>

<p>click next</p>

<p>Specify installation folder, choose your own or keep the default folder suggested by PostgreSQL installer.</p>

<h4 id="install-postgresql-step-2">Install PostgreSQL step 2</h4>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Install-PostgreSQL-Step-3-1.png" alt="a picture of PgAdmin installation wizard" /></p>

<figcaption>Enter the password of your own choice and make sure to remember it.</figcaption>

<h4 id="install-postgresql-step-3">Install PostgreSQL Step 3</h4>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Install-PostgreSQL-Step-4-1.png" alt="a picture of PgAdmin installation wizard" /></p>

<figcaption>Enter the port for PostgreSQL. For some people it may P5433.</figcaption>

<h4 id="install-postgresql-step-5">Install PostgreSQL Step 5</h4>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Install-PostgreSQL-Step-5-1.png" alt="a picture of PgAdmin installation wizard" /></p>

<figcaption>Choose the default locale and Click the Next button to install PostgreSQL</figcaption>

<h4 id="install-postgresql-step-7">Install PostgreSQL Step 7</h4>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Install-PostgreSQL-Step-7-1.png" alt="a picture of PgAdmin installation wizard" /></p>

<p>now you can wait for the installation to run</p>

<h4 id="install-postgresql-step-8">Install PostgreSQL Step 8</h4>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Install-PostgreSQL-Step-8.png" alt="a picture of PgAdmin installation wizard" /></p>

<figcaption>Click Finish to complete the PostgreSQL installation.</figcaption>

<h3 id="how-to-verify-the-installation">How to Verify the Installation</h3>

<p>This can be done through the pgAdmin application. First, go to your Local Disk C:. Now go to Program FilesX86, navigate the list to find postgresql and doubleclick on it. Open the 9.3 folder. Do the same thing for bin. Now, if you scroll down the list, you will find pgadmin3. Right click on it, go to create shortcut and click yes to create a desktop shortcut. now go to the desktop and doubleclick on the shortcut you have just created and pgadmin will be launched.</p>

<p>Second,Connect to PostgreSQL Server</p>

<p>This is done by simply doubleclicking on the server marked with the red x</p>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/Connect-to-PostgreSQL-Server.jpg" alt="a picture of a launched PgAdmin application" /></p>

<figcaption>now it is time to use the password you entered in step2 and check the store password box</figcaption>

<p>Third, if everything is fine, the pgAdmin will display all the objects that belong to the server.</p>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/PostgreSQL-Objects.jpg" alt="a picture of a launched PgAdmin application" /></p>

<hr />

<h2 id="quantum-gis-qgis">Quantum GIS (Qgis)</h2>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/th.jpg" alt="Qgis logo" /></p>

<h3 id="how-to-install-qgis">How to install Qgis</h3>

<p>Here, you learn a step by step the installation of the actual version (2.18) of QGIS.</p>

<p>First, you need to download the software from <a href="http://www.qgis.org/">here</a>. Double click on the downloaded .exe file to install. Accept the install defaults to complete the process and launch</p>

<p>Congratulation! you’ve successfully installed PostgreSQL database server in your and QGIS PC.</p>

<hr />

<h2 id="osm2pgsql">osm2pgsql</h2>

<p>In the previous article we saw how to set up Postgresql with PostGIS in Windows and how to set up a database and load it with shapefile data. In order to get OpenStreetMap data into a database, you could get the data in shapefile format and use the shapefile loader, but this may leave you without all the data that you want.</p>

<p>In this chapter we will learn how to use osm2pgsql, a command-line program for loading raw OSM data into a PostGIS database. We will go through the steps to set up osm2pgsql on Windows, though the steps should be roughly the same on another operating system, assuming you have set up your PostGIS database(s) correctly.</p>

<h3 id="how-to-get-osm2pgsql">How to get OSM2PGSQL</h3>

<p>Osm2pgsql in my opinion is short or Open Street Map to(2) Post GIS Structured Querybased Language. Which means that you are getting raw osm data and loading it into postgis using sql.</p>

<p>Click here to download the windows version of osm2pgsql</p>

<p><a href="http://wiki.openstreetmap.org/wiki/Osm2pgsql#Windows">osm2pgsql</a></p>

<ul>
  <li>Download the file named osm2pgsql.zip</li>
  <li>Right click on it and unzip the file on your system</li>
  <li>You should move the unzipped folder to the osm folder you have created in local disk C</li>
  <li>In local disk C will be the unzipped file called osm2pgsql.exe</li>
</ul>

<p>This is a program that we will run to import the data, but in order for Windows to find it, we need to add its location to the system path.</p>

<h2 id="system-path">System Path</h2>

<h3 id="how-to-create-a-system-path">How to Create a System Path</h3>

<ul>
  <li>Go to the control panel and there, search system path</li>
</ul>

<p><img src="https://s3.eu-central-1.amazonaws.com/ls-sat/blog-images/how-to-guide/www.pic-ttp1.png" alt="A picture showing how to find a system path" /></p>

<ul>
  <li>Click on an option called “Edit the system environment variables. That looks like this:</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/17254752/29718729-6f33e6a0-894f-11e7-9327-149df869362f.png" alt="This picture shows what the edit system environment variables button looks like" /></p>

<ul>
  <li>Click on the “Environment Variables” button</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/17254752/29718734-6fd3c27e-894f-11e7-8902-413828d9a0f4.png" alt="This picture shows the environment variables tab" /></p>

<ul>
  <li>Scroll to the bottom and find the variable named “Path”, highlight it and click “Edit…”</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/17254752/29718734-6fd3c27e-894f-11e7-8902-413828d9a0f4.png" alt="This picture shows where to find the variable path" /></p>

<ul>
  <li>This is how you must add the directory where osm2pgsql.exe is located to the end of the Path variable.</li>
</ul>

<p>Be careful not to erase anything as this will be highlighted</p>

<p><img src="https://user-images.githubusercontent.com/17254752/29718721-6ef26bf8-894f-11e7-8d71-563c3774e1d4.png" alt="A picture displaying an edit system variable window" /></p>

<p>Add a semicolon to the end of the previous directory and then type in the full directory path of osm2pgsql.exe. In our case, since our osm2pgsql extract is in local disk C inside the osm folder, the directory path would be: <code class="highlighter-rouge">;C:\osm\osm2pgsql\x64;</code> if you are using a 62bit operating system or <code class="highlighter-rouge">;C:\osm\osm2pgsql\x32;</code> if you are using 32bit operating system</p>
<ul>
  <li>Click OK several times to save the new settings</li>
</ul>

<h3 id="how-to-test-if-osm2pgsql-functions">How to test if osm2pgsql functions</h3>

<ul>
  <li>Run the Windows Command Prompt as an administrator. You can do this by clicking on the Start Menu and searching “cmd”. The Command Prompt application will come up. You can rightclick on it and run as an administrator</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/17254752/29718724-6f0ae75a-894f-11e7-8b3e-d61362bed6a5.png" alt="A picture showing how to find a command prompt application" /></p>

<p>In the black command window that opens, type:</p>

<p><code class="highlighter-rouge">osm2pgsql.exe</code></p>

<p>If everything is working right, you should get a message like this:</p>

<p><img src="https://user-images.githubusercontent.com/17254752/29718726-6f1bf90a-894f-11e7-98f3-8d3fe1ecbc17.png" alt="A picture of a message expected to be returned by a command" /></p>

<ul>
  <li>If you don’t see an error message like this, and it says that it <strong>cannot</strong> find the application osm2pgsql, then you may have entered the Path variable incorrectly.</li>
</ul>

<hr />

<p><strong>That’s is we’ve now got everything setup that we need to start digitizing, see you in Part 2</strong></p>

<p>You might also like to read my previous article <a href="https://www.maplesotho.com/blog/2017/03/16/bye-bye-arcgis/"><strong>Bye Bye Arcgis</strong></a></p>

<p><em>Article by <a href="http://www.openstreetmap.org/user/fifiQn">Refiloe Semethe</a></em></p>

		</div>
	</div>
</div>

<div class="wrapper center p8x p4y post-actions">
	<a class="icon twitter" href="https://twitter.com/share?url=http://www.maplesotho.com/blog/2017/10/29/part1-guide-to-digitize-qgis-osm/">Twitter</a>

	<a class="icon facebook" href="http://facebook.com/sharer.php?u=http://www.maplesotho.com/blog/2017/10/29/part1-guide-to-digitize-qgis-osm/">Facebook</a>
	
	<a class="icon all" href="/blog/2017/09/08/the-open-source-movement-of-spatial-planning-maplesotho-initiative/">All</a>
  
  <a class="icon prev " href="/blog/2017/09/08/the-open-source-movement-of-spatial-planning-maplesotho-initiative/">Previous</a>

  <a class="icon next disabled" href=""> Next</a>
  

</div>

<script type="text/javascript" src="/assets/scripts/jquery.simulate.min.js"></script>
<script type="text/javascript">
$(document.documentElement).keyup(function (e) {
  if (e.keyCode == 39)
  {
    $( "a.home-next,li.next a,a.next" ).simulate( "click" );
  }
  if (e.keyCode == 37)
  {
    $( "a.home-prev,li.prev a,a.prev" ).simulate( "click" );
  }
});
</script>

  
  <div class="p4y fill-blue dark center line-bottom">
<div class="wrapper">
	<div class="p8x">
		<h2>Keep in touch </h2>
		<a href="https://www.facebook.com/groups/1539200169678837/?fref=nf" class="button icon facebook">Facebook</a> 
		<a href="https://twitter.com/search?q=%23MapLesotho&src=typd" class="button icon twitter">#MapLesotho</a> 
		<a href="http://wiki.openstreetmap.org/wiki/WikiProject_Lesotho" class="button icon twitter">OSM Wiki</a> 
	</div>
</div>
</div>

<footer class="p4y fill-lightgrey" >
    <div class="wrapper">
    	<div class="p8x">
    		<p>Made with love by <a href="https://cbroderick.me" title="Visit Colin Brodericks website">Colin Broderick</a> and <a href="http://fingal.ie/" title="Visit the Fingal County Council website">Fingal</a>, inspired by Development Seed and HotOSM.</p>
    	</div>
    </div>
</footer>

<!-- Get Gauges -->
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '57c1d417c88d90366d024be9');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>

  <style type="text/css">
  	.item {min-height: 260px;}
  </style>

  

  </body>
</html>
